(function(b){b(document).ready(function(){var d=L.map("canvas-map",{layers:[Spain_PNOA_Ortoimagen]}).setView([37.4047,-6.00614],16);L.marker([37.404809,-6.006461]).addTo(d);L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attribution">CARTO</a>'}).setOpacity(0.8).addTo(d);L.polyline([[37.403592,-6.01],[37.403325,-6.0077],[37.404561,-6.00733],[37.404561,-6.007],[37.404809,-6.007]],{color:"red",weight:10,opacity:0.4,lineJoin:"round"}).addTo(d);b(window).load(function(){b("#st-container").removeClass("disable-scrolling");b("#loading-animation").fadeOut();b("#preloader").delay(350).fadeOut(800);a();equalheight(".same-height")});if(b(window).width()>1500){b(".effect-wrapper").addClass("col-lg-3")}if(b(window).width()<768){b(".animated").removeClass("animated").removeClass("hiding");b(".stat span").removeClass("timer");b(".timeslot-label").addClass("stick-label")}if(b(window).height()<512){b("#bottom-navlinks").removeClass("bottom-navlinks").addClass("bottom-navlinks-small")}if(b(window).scrollTop()>=100){b("#top-header").addClass("after-scroll");b("#logo-header .logo").removeClass("logo-light").addClass("logo-dark")}b(window).scroll(function(){var g=b(this).scrollTop();var k=b("#top-header");var j=b("#logo-header .logo");var h=b(".right-nav-button");var i=k.height()+b(".track-header").height();if(g>=100){k.addClass("after-scroll");j.removeClass("logo-light").addClass("logo-dark")}else{k.removeClass("after-scroll");j.removeClass("logo-dark").addClass("logo-light")}if(g>=b(".top-section").height()&&b(window).width()>767){h.removeClass("right-nav-button-hidden")}else{if(g<b(".top-section").height()&&b(window).width()>767){h.addClass("right-nav-button-hidden")}}b(".slot").each(function(){var m=b(this).offset().top-g;var l=i+b(this).find(".slot-title").height();if(m<=l&&m>=0){b(".track-header.sticky").find(".slot-detail").html(b(this).data("slotDetail"))}})});b(window).resize(function(){if(b(window).width()>1500){b(".effect-wrapper").addClass("col-lg-3")}else{b(".effect-wrapper").removeClass("col-lg-3")}if(b(window).width()<768){b(".same-height").css("height","100%");b(".timeslot-label").addClass("stick-label")}else{b(".timeslot-label").removeClass("stick-label");if(c.hasClass("st-menu-open")){c.removeClass("st-menu-open");b("body").css("overflow","auto")}equalheight(".same-height")}if(b(window).height()<512){b(".st-menu").addClass("scrollable");b("#bottom-navlinks").removeClass("bottom-navlinks").addClass("bottom-navlinks-small")}else{b(".st-menu").removeClass("scrollable");b("#bottom-navlinks").removeClass("bottom-navlinks-small").addClass("bottom-navlinks")}});b(function(){b("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var g=b(this.hash);g=g.length?g:b("[name="+this.hash.slice(1)+"]");if(g.length){b("html,body").animate({scrollTop:g.offset().top},1000);return false}}})});b(function(){b("a[href=#]").click(function(){event.preventDefault()})});b(function(){if(window.location.href.indexOf("schedule")>-1&&window.location.hash){var g=window.location.hash;b(g).click()}});b(function(){var k,h,j,n,m,g,l;l=b(".appear-animation");for(m=0,g=l.length;m<g;m++){j=l[m];n=j.offsetLeft+j.offsetTop;h=n/1000;b(j).css("transition-delay",""+(h*0.47)+"s");b(j).css("transition-duration",""+0.2+"s")}});b(".appear-animation-trigger").appear(function(){setTimeout(function(){b(".appear-animation-trigger").parent("div").find(".appear-animation").addClass("visible")},1000)});b(".animated").appear(function(){var h=b(this);var i=h.data("animation");var g=h.data("delay");if(g){setTimeout(function(){h.addClass(i+" visible");h.removeClass("hiding");if(h.hasClass("counter")){h.find(".timer").countTo()}},g)}else{h.addClass(i+" visible");h.removeClass("hiding");if(h.hasClass("counter")){h.find(".timer").countTo()}}},{accY:-150});equalheight=function(h){var g=0,i=0,l=new Array(),k,j=0;b(h).each(function(){k=b(this);b(k).height("auto");topPostion=k.position().top;if(i!=topPostion){for(currentDiv=0;currentDiv<l.length;currentDiv++){l[currentDiv].height(g)}l.length=0;i=topPostion;g=k.height();l.push(k)}else{l.push(k);g=(g<k.height())?(k.height()):(g)}for(currentDiv=0;currentDiv<l.length;currentDiv++){l[currentDiv].height(g)}})};var c=b(".st-container");b("#menu-trigger").click(function(g){g.stopPropagation();c.toggleClass("st-menu-open")});b(".st-pusher").click(function(){if(c.hasClass("st-menu-open")){c.removeClass("st-menu-open")}});b(".track-header").each(function(){var h=b(this).closest(".schedule-table").find(".slot").first();var g;while(g===undefined){g=h.data("slotDetail");h=h.next()}b(this).find(".slot-detail").html(g)});b("#post-section .post-body p").each(function(){if(b(this).find(".feature-image").length){var g=b(this).find(".feature-image").prop("src");b("#top-section").css("background-image","url("+g+")").addClass("enable-overlay")}});b(".slider").each(function(){b(this).find(".slider-item").first().addClass("slider-current-item").removeClass("hidden");if(b(this).find(".slider-item").length>1){b(this).closest(".speaker-item").find(".slider-next-item").removeClass("hidden")}});b(".slider-next-item").click(function(){var h=b(this).closest("div");var g=h.find(".slider-current-item").next();if(g.length){g.addClass("slider-current-item").removeClass("hidden");h.find(".slider-current-item").first().removeClass("slider-current-item").addClass("hidden")}else{h.find(".slider-item").first().addClass("slider-current-item").removeClass("hidden");h.find(".slider-current-item").last().removeClass("slider-current-item").addClass("hidden")}});b(".modal").on("hidden.bs.modal",function(){var g=b(this).find("iframe");g.attr("src",g.attr("src"))});b(".slot").click(function(){location.hash=b(this).attr("id")});if(typeof twitterFeedUrl!=="undefined"){b.getJSON(twitterFeedUrl,function(g){b.each(g.statuses,function(j,h){var k='<div class="tweet animated fadeInUp hidden"><p class="tweet-text">'+e(h.text)+'</p><p class="tweet-meta">by <a href="https://twitter.com/'+h.user.screen_name+'" target="_blank">@'+h.user.screen_name+"</a></p></div>";b("#tweets").append(k)});f()});function e(l){var i,h,g,k,j;h=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;i=l.replace(h,'<a href="$1" target="_blank">$1</a>');g=/(^|[^\/])(www\.[\S]+(\b|$))/gim;i=i.replace(g,'$1<a href="http://$2" target="_blank">$2</a>');k=/#(\S*)/g;i=i.replace(k,'<a href="https://twitter.com/search?q=%23$1" target="_blank">#$1</a>');j=/\B@([\w-]+)/gm;i=i.replace(j,'<a href="https://twitter.com/$1" target="_blank">@$1</a>');return i}function f(){var g=b("#tweets").find(".tweet"),j=0;b(g.get(0)).removeClass("hidden");function k(){var i=(++j%g.length);b(g.get(i-1)).addClass("hidden");b(g.get(i)).removeClass("hidden")}var h=setInterval(k,5000)}}});function a(){var c=document.createElement("script");c.type="text/javascript";c.async=true;c.src="https://apis.google.com/js/platform.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}})(jQuery);